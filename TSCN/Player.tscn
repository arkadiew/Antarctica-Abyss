[gd_scene load_steps=19 format=3 uid="uid://wssnx1an6whd"]

[ext_resource type="Script" path="res://SCR/player/Player.gd" id="1_6qoym"]
[ext_resource type="Texture2D" uid="uid://dptxs776qawaw" path="res://utils/suit/mask.png" id="3_k2huq"]
[ext_resource type="Texture2D" uid="uid://dx81nigoc35r2" path="res://utils/suit/pro.png" id="4_77hi1"]
[ext_resource type="Texture2D" uid="uid://c88e5v5pwpor5" path="res://utils/suit/ho.png" id="4_cpcni"]
[ext_resource type="Texture2D" uid="uid://ly63slxye3bs" path="res://utils/suit/icon.png" id="6_kxttt"]
[ext_resource type="Shader" path="res://utils/psx_camera/psx_camera_shader.gdshader" id="7_vjg34"]
[ext_resource type="Script" path="res://SCR/audio_manager.gd" id="8_3vx6c"]
[ext_resource type="Texture2D" uid="uid://b7acqecrl00g2" path="res://utils/suit/eng.png" id="9_84wo5"]
[ext_resource type="Texture2D" uid="uid://tl2n84tyfbe7" path="res://utils/png_scary/fear_0.png" id="9_flnhe"]
[ext_resource type="Shader" path="res://utils/cameraw.gdshader" id="9_vculq"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_hq87f"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_4q6bg"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o4jev"]
render_priority = 0
shader = ExtResource("7_vjg34")
shader_parameter/enable_fog = true
shader_parameter/fog_color = null
shader_parameter/noise_color = null
shader_parameter/fog_distance = 100.0
shader_parameter/fog_fade_range = 50.0
shader_parameter/enable_noise = true
shader_parameter/noise_time_fac = 4.0
shader_parameter/enable_color_limitation = true
shader_parameter/color_levels = 32
shader_parameter/enable_dithering = true
shader_parameter/dither_strength = 0.3

[sub_resource type="QuadMesh" id="QuadMesh_wryk6"]
material = SubResource("ShaderMaterial_o4jev")
size = Vector2(300, 300)

[sub_resource type="LabelSettings" id="LabelSettings_opqr3"]
line_spacing = 9.0
font_size = 41
outline_size = 6
outline_color = Color(0, 0, 0, 1)
shadow_size = 0
shadow_color = Color(0, 0, 0, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_g1ve8"]
viewport_path = NodePath("CameraPivot/Camera3D/SubViewport")

[sub_resource type="QuadMesh" id="QuadMesh_yke17"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mhxql"]
render_priority = 0
shader = ExtResource("9_vculq")
shader_parameter/pixel_size = 2

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.724673, 0)
script = ExtResource("1_6qoym")

[node name="CSGMesh3D" type="CSGMesh3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.00888, 0, 0, 0, 1, 0, 0, 0)
use_collision = true
mesh = SubResource("CapsuleMesh_hq87f")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0301087, 0)
shape = SubResource("CapsuleShape3D_4q6bg")

[node name="CameraPivot" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00115883, 1.33861, 0.181869)
keep_aspect = 0
current = true
fov = 120.0

[node name="Rayscary3D" type="RayCast3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 0.092242, -1.13903, 0, 7.02762, 0.0149504, 0, 0, -0.935285)

[node name="InteractRay" type="RayCast3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(1.34086, -3.71008e-07, 0.000113938, 0, 1.12905, 0.000547588, -0.000351042, -0.00141722, 0.435206, -0.00150963, -0.0021795, -0.928925)
target_position = Vector3(0, 0, -3)
collide_with_areas = true

[node name="Label3D" type="Label3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.883044)
pixel_size = 0.006

[node name="Marker3D" type="Marker3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(2.88281, 0, 0, 0, 2.88281, 0, 0, 0, 2.88281, 0, 0, -0.858803)
gizmo_extents = 27.45

[node name="HandSlot" type="Node3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.337421, 0.117052, -1.87381)

[node name="MeshInstance3D" type="MeshInstance3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(0.0384652, 0, 0, 0, 0.0384652, 0, 0, 0, 0.0178821, 0, 0, -0.546126)
visible = false
mesh = SubResource("QuadMesh_wryk6")

[node name="UI" type="Node" parent="CameraPivot/Camera3D"]

[node name="mask" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -7.0
offset_top = -6.0
offset_right = 5.0
offset_bottom = 9.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_k2huq")
expand_mode = 1

[node name="Pro3" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = -33.0
offset_top = -238.0
offset_right = 873.0
offset_bottom = 942.0
grow_vertical = 0
scale = Vector2(0.298985, 0.23807)
size_flags_horizontal = 2
size_flags_vertical = 2
texture = ExtResource("4_77hi1")

[node name="Pro2" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 46.0
offset_top = -202.0
offset_right = 1001.0
offset_bottom = 753.0
grow_vertical = 0
scale = Vector2(0.30692, 0.30692)
size_flags_horizontal = 2
size_flags_vertical = 2
texture = ExtResource("4_77hi1")

[node name="Pro" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = -8.0
offset_top = -157.0
offset_right = 971.0
offset_bottom = 636.0
grow_vertical = 0
scale = Vector2(0.28, 0.28)
size_flags_horizontal = 2
size_flags_vertical = 2
texture = ExtResource("4_77hi1")
expand_mode = 1

[node name="FearSprite" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 171.0
offset_top = -353.0
offset_right = 788.0
offset_bottom = 264.0
grow_vertical = 0
scale = Vector2(0.3, 0.3)
texture = ExtResource("9_flnhe")

[node name="icon2" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 23.0
offset_top = -287.0
offset_right = 540.0
offset_bottom = 230.0
grow_vertical = 0
scale = Vector2(0.4, 0.4)
texture = ExtResource("6_kxttt")

[node name="TextureProgressBar" type="TextureProgressBar" parent="CameraPivot/Camera3D/UI"]
layout_direction = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 37.0
offset_top = -270.0
offset_right = 187.0
offset_bottom = -124.0
grow_vertical = 0
scale = Vector2(1.2, 1.2)
step = 4.0
fill_mode = 4
nine_patch_stretch = true
texture_progress = ExtResource("9_84wo5")

[node name="icon" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 187.0
offset_top = -206.0
offset_right = 787.0
offset_bottom = 394.0
grow_vertical = 0
scale = Vector2(0.3, 0.3)
texture = ExtResource("6_kxttt")

[node name="o2" type="TextureProgressBar" parent="CameraPivot/Camera3D/UI"]
layout_direction = 1
anchors_preset = -1
anchor_top = 0.9975
anchor_right = 0.0111111
anchor_bottom = 1.02125
offset_left = 198.0
offset_top = -190.0
offset_right = 287.0
offset_bottom = -101.0
grow_vertical = 0
scale = Vector2(1.48, 1.406)
size_flags_horizontal = 2
size_flags_vertical = 2
step = 4.0
fill_mode = 4
nine_patch_stretch = true
texture_progress = ExtResource("4_cpcni")
metadata/_edit_use_anchors_ = true

[node name="Panel" type="Panel" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -5.0
offset_top = -5.0
offset_right = 5.0
offset_bottom = 5.0
grow_horizontal = 2
grow_vertical = 2

[node name="NotificationLabel" type="Label" parent="CameraPivot/Camera3D/UI"]
anchors_preset = 10
anchor_right = 1.0
offset_left = 2.0
offset_top = 39.0
offset_right = 2.0
offset_bottom = 210.0
grow_horizontal = 2
label_settings = SubResource("LabelSettings_opqr3")
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 3
justification_flags = 171

[node name="SuitNotification" type="Label" parent="CameraPivot/Camera3D/UI"]
offset_left = 442.0
offset_top = 34.0
offset_right = 621.0
offset_bottom = 205.0

[node name="DarkenScreen" type="ColorRect" parent="CameraPivot/Camera3D/UI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -15.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
color = Color(0, 0, 0, 1)

[node name="TextureRect" type="TextureRect" parent="CameraPivot/Camera3D/UI"]
offset_right = 40.0
offset_bottom = 40.0

[node name="cameraw" type="TextureRect" parent="CameraPivot/Camera3D"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -4.0
offset_top = -4.0
offset_right = 4.0
offset_bottom = 13.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("ViewportTexture_g1ve8")

[node name="SubViewport" type="SubViewport" parent="CameraPivot/Camera3D"]
transparent_bg = true
handle_input_locally = false
vrs_mode = 2
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="MeshInstance3D2" type="MeshInstance3D" parent="CameraPivot/Camera3D"]
transform = Transform3D(1.79059, 0, 0, 0, 0.820363, 0, 0, 0, 0.583701, 0, 0, -0.54547)
mesh = SubResource("QuadMesh_yke17")
surface_material_override/0 = SubResource("ShaderMaterial_mhxql")

[node name="GroundRay" type="RayCast3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00396872, -0.93701, -0.00424123)
target_position = Vector3(0, -0.1, 0)

[node name="AudioManager" type="Node" parent="."]
script = ExtResource("8_3vx6c")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="AudioManager"]
